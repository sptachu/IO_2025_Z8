<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>System Kontroli Dostpu</title>
    <style>
        body { font-family: sans-serif; max-width: 900px; margin: 20px auto; padding: 20px; background-color: #f4f4f4;}
        .container { display: flex; gap: 20px; }
        .panel { flex: 1; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .full-width { width: 100%; margin-top: 20px; }
        h2 { border-bottom: 2px solid #007bff; padding-bottom: 10px; color: #333; }
        input { width: 100%; padding: 8px; margin: 5px 0 15px 0; box-sizing: border-box; }
        button { width: 100%; padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        .success-box { background: #d4edda; color: #155724; padding: 10px; margin-top: 10px; border: 1px solid #c3e6cb; }
        .error-box { background: #f8d7da; color: #721c24; padding: 10px; margin-top: 10px; border: 1px solid #f5c6cb; }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>

    <h1 style="text-align:center;">System Kontroli Dostpu i Rejestracji Czasu Pracy</h1>

    <div class="container">
        <div class="panel">
            <h2> Panel Admina</h2>

            <h3>1. Rejestracja Pracownika</h3>
            <form id="addWorkerForm">
                <input type="text" name="name" placeholder="Imi i Nazwisko" required>
                <input type="text" name="employeeId" placeholder="ID Pracownika" required>
                <label>Zdjcie wzorcowe:</label>
                <input type="file" name="photo" required>
                <button type="submit">Zarejestruj</button>
            </form>
            <p id="add-result"></p>
            <hr>

            <h3>2. Wydaj Przepustk</h3>
            <input type="text" id="qrEmployeeId" placeholder="ID Pracownika">
            <button onclick="generateQR()">Generuj Kod QR</button>
            <div id="qr-display"></div>
        </div>

        <div class="panel" style="border: 2px solid #007bff;">
            <h2> Symulator Bramki (Kiosk)</h2>
            <p>To okno symuluje urzdzenie przy wejciu do fabryki.</p>

            <form id="gateForm">
                <label>1. Zeskanuj Kod QR (Wklej token):</label>
                <input type="text" name="qrToken" placeholder="QR_..." required>

                <label>2. Kamera (Wgraj zdjcie osoby wchodzcej):</label>
                <input type="file" name="gatePhoto" required>

                <button type="submit" style="background-color: #28a745;">WERYFIKUJ WEJCIE</button>
            </form>
            <div id="gate-result"></div>
        </div>
    </div>

    <div class="panel full-width">
        <h2> Raporty i Logi Systemowe</h2>
        <p>Rejestr wszystkich pr贸b wejcia, nadu偶y i wykrytych incydent贸w.</p>
        <button onclick="loadLogs()" style="width: auto; background: #6c757d;">Odwie偶 List</button>
        <table id="logsTable">
            <thead>
                <tr>
                    <th>Godzina</th>
                    <th>Pracownik / Osoba</th>
                    <th>Status</th>
                    <th>Szczeg贸y / Pow贸d</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>

    <script src="admin.js"></script>
</body>
</html>